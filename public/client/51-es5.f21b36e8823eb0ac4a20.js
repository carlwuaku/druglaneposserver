function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"1a67":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminDashboardModule",(function(){return E}));var a=n("ofXK"),l=n("tyNb"),r=n("fXoL"),i=n("ccyI"),d=n("1VJT"),o=n("c92J"),s=n("3Pt+");function m(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275elementStart"](2,"a",39),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"td"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate1"]("routerLink","/branch_details/",n.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",n.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"]("",n.best_seller_by_quantity," (",n.best_seller_quantity,") "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"]("",n.best_seller_by_amount," (",n.best_seller_amount,") ")}}function c(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275elementStart"](2,"a",39),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"td"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td"),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"td"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate1"]("routerLink","/branch_details/",n.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",n.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",n.total_sale," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.total_purchased),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",n.transfers_in," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",n.transfers_out," ")}}var u,h,S,p=[{path:"",component:(u=function(){function e(t,n,a){_classCallCheck(this,e),this.authService=t,this.notify=n,this.dbService=a,this.last_month_sales="...",this.this_month_sales="...",this.stock_value="...",this.expired_value="...",this.branches=[],this.branch_data=[],this.best_sellers=[],this.quick_option="this_month",this.user=this.authService.current_user,"admin"!=this.user.type&&(alert("Not permitted. Please logout and login as an administrator"),this.goBack());var l=this.dbService.setDates(this.quick_option);this.start_date=l.start_date,this.end_date=l.end_date}return _createClass(e,[{key:"ngOnInit",value:function(){this.getData(),this.getBestSellers(),this.getAdminDashboard()}},{key:"getData",value:function(){var e=this;this.notify.showLoading(),this.dbService.getData("admin/getBranchComparisons?start_date="+this.start_date+"&end_date="+this.end_date,this.authService.current_user).subscribe((function(t){e.branch_data=t.data,e.notify.hideLoading()}),(function(t){e.notify.hideLoading()}))}},{key:"getBestSellers",value:function(){var e=this;this.notify.showLoading(),this.dbService.getData("admin/getBestSellers?start_date="+this.start_date+"&end_date="+this.end_date,this.authService.current_user).subscribe((function(t){e.best_sellers=t.data,e.notify.hideLoading()}),(function(t){e.notify.hideLoading()}))}},{key:"getAdminDashboard",value:function(){var e=this;this.notify.showLoading(),this.dbService.getData("admin/getAdminDashboardMeter",this.authService.current_user).subscribe((function(t){e.this_month_sales=t.this_month_total,e.last_month_sales=t.last_month_total,e.stock_value=t.stock_value,e.expired_value=t.expired_value,e.notify.hideLoading()}),(function(t){e.notify.hideLoading()}))}},{key:"setDates",value:function(){var e=this.dbService.setDates(this.quick_option);this.start_date=e.start_date,this.end_date=e.end_date}},{key:"branchesSelected",value:function(e){this.branches=e}},{key:"goBack",value:function(){window.history.back()}}]),e}(),u.\u0275fac=function(e){return new(e||u)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](o.a))},u.\u0275cmp=r["\u0275\u0275defineComponent"]({type:u,selectors:[["app-admin-dashboard"]],decls:118,vars:9,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-md-3","col-sm-6","col-12"],[1,"info-box"],[1,"info-box-icon","bg-info"],[1,"fa","fa-database"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box-icon","bg-danger"],[1,"fa","fa-exclamation-triangle"],[1,"fa","fa-print"],["ngNativeValidate","",3,"ngSubmit"],["n","ngForm"],["name","quick_options",3,"ngModel","change","ngModelChange"],["value","today"],["value","yesterday"],["value","this_week"],["value","last_week"],["value","this_month"],["value","last_month"],["value","first_quarter"],["value","second_quarter"],["value","third_quarter"],["value","last_quarter"],["value","this_year"],["value","last_year"],["type","date","name","start_date",3,"ngModel","ngModelChange"],["type","date","name","end_date",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Get Data",1,"btn","btn-sm","btn-success"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[1,"card-body","table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"col-md-8","table-responsive"],[1,"card-body"],[3,"routerLink"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"h4"),r["\u0275\u0275text"](3,"Admin Dashboard"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",3),r["\u0275\u0275elementStart"](6,"div",4),r["\u0275\u0275elementStart"](7,"span",5),r["\u0275\u0275element"](8,"i",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",7),r["\u0275\u0275elementStart"](10,"span",8),r["\u0275\u0275text"](11,"Stock Value"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"span",9),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",3),r["\u0275\u0275elementStart"](15,"div",4),r["\u0275\u0275elementStart"](16,"span",10),r["\u0275\u0275element"](17,"i",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"div",7),r["\u0275\u0275elementStart"](19,"span",8),r["\u0275\u0275text"](20,"Expired Stock Value"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](21,"span",9),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"div",3),r["\u0275\u0275elementStart"](24,"div",4),r["\u0275\u0275elementStart"](25,"span",5),r["\u0275\u0275element"](26,"i",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"div",7),r["\u0275\u0275elementStart"](28,"span",8),r["\u0275\u0275text"](29,"Last Month Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"span",9),r["\u0275\u0275text"](31),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"div",3),r["\u0275\u0275elementStart"](33,"div",4),r["\u0275\u0275elementStart"](34,"span",5),r["\u0275\u0275element"](35,"i",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](36,"div",7),r["\u0275\u0275elementStart"](37,"span",8),r["\u0275\u0275text"](38,"This Month Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"span",9),r["\u0275\u0275text"](40),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](41," Branch Activity Summary. Click on a branch name to get more details. "),r["\u0275\u0275element"](42,"hr"),r["\u0275\u0275elementStart"](43,"form",13,14),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.getData()})),r["\u0275\u0275elementStart"](45,"label"),r["\u0275\u0275text"](46,"Select period"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](47,"select",15),r["\u0275\u0275listener"]("change",(function(){return t.setDates()}))("ngModelChange",(function(e){return t.quick_option=e})),r["\u0275\u0275elementStart"](48,"option",16),r["\u0275\u0275text"](49,"Today"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](50,"option",17),r["\u0275\u0275text"](51,"Yesterday"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](52,"option",18),r["\u0275\u0275text"](53,"This Week"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](54,"option",19),r["\u0275\u0275text"](55,"Last Week"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](56,"option",20),r["\u0275\u0275text"](57,"This Month"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](58,"option",21),r["\u0275\u0275text"](59,"Last Month"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](60,"option",22),r["\u0275\u0275text"](61,"1st quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](62,"option",23),r["\u0275\u0275text"](63,"2nd quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](64,"option",24),r["\u0275\u0275text"](65,"3rd quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](66,"option",25),r["\u0275\u0275text"](67,"4th quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](68,"option",26),r["\u0275\u0275text"](69,"This Year"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](70,"option",27),r["\u0275\u0275text"](71,"Last Year"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](72,"label"),r["\u0275\u0275text"](73,"Start Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](74,"input",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.start_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](75,"label"),r["\u0275\u0275text"](76,"End Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](77,"input",29),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.end_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](78,"input",30),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](79,"div",2),r["\u0275\u0275elementStart"](80,"div",31),r["\u0275\u0275elementStart"](81,"div",32),r["\u0275\u0275elementStart"](82,"div",33),r["\u0275\u0275elementStart"](83,"h4"),r["\u0275\u0275text"](84,"Best Selling Products"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](85,"div",34),r["\u0275\u0275elementStart"](86,"table",35),r["\u0275\u0275elementStart"](87,"thead"),r["\u0275\u0275elementStart"](88,"tr"),r["\u0275\u0275elementStart"](89,"th"),r["\u0275\u0275text"](90,"Branch"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](91,"th"),r["\u0275\u0275text"](92,"By Quantity"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](93,"th"),r["\u0275\u0275text"](94,"By Amount"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](95,"tbody"),r["\u0275\u0275template"](96,m,8,6,"tr",36),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](97,"div",37),r["\u0275\u0275elementStart"](98,"div",32),r["\u0275\u0275elementStart"](99,"div",33),r["\u0275\u0275elementStart"](100,"h4"),r["\u0275\u0275text"](101,"Branch Summary"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](102,"div",38),r["\u0275\u0275elementStart"](103,"table",35),r["\u0275\u0275elementStart"](104,"thead"),r["\u0275\u0275elementStart"](105,"tr"),r["\u0275\u0275elementStart"](106,"th"),r["\u0275\u0275text"](107,"Branch"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](108,"th"),r["\u0275\u0275text"](109,"Total Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](110,"th"),r["\u0275\u0275text"](111,"Total Purchases"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](112,"th"),r["\u0275\u0275text"](113,"Total Transfers In"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](114,"th"),r["\u0275\u0275text"](115,"Total Transfers Out"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](116,"tbody"),r["\u0275\u0275template"](117,c,12,6,"tr",36),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](13),r["\u0275\u0275textInterpolate1"]("",t.stock_value," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.expired_value," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.last_month_sales," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.this_month_sales," "),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModel",t.quick_option),r["\u0275\u0275advance"](27),r["\u0275\u0275property"]("ngModel",t.start_date),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.end_date),r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",t.best_sellers),r["\u0275\u0275advance"](21),r["\u0275\u0275property"]("ngForOf",t.branch_data))},directives:[s.f,s.g,s.m,s.e,s.h,s.i,s.n,s.b,a.i,l.d],styles:[""]}),u)}],v=((h=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||h)},imports:[[l.e.forChild(p)],l.e]}),h),_=n("nEHF"),f=n("wDHj"),E=((S=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||S)},imports:[[a.b,v,_.a,f.a]]}),S)},wDHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ofXK"),l=n("nEHF"),r=n("6QD7"),i=n("fXoL"),d=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,l.a,r.b],r.b]}),e}()}}]);