function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"7wo0":function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModule",(function(){return S}));var i=n("ofXK"),a=n("tyNb"),o=n("fXoL"),r=n("c92J"),l=n("1VJT"),d=n("ccyI"),s=n("hiAm"),c=n("3Pt+");function m(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",10),o["\u0275\u0275elementStart"](1,"h4"),o["\u0275\u0275text"](2,"Unable to connect to server. Try again"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}function u(e,t){1&e&&o["\u0275\u0275element"](0,"app-loading",11)}function f(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",12),o["\u0275\u0275elementStart"](1,"form",13),o["\u0275\u0275listener"]("ngSubmit",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().save()})),o["\u0275\u0275elementStart"](2,"div",14),o["\u0275\u0275elementStart"](3,"label"),o["\u0275\u0275text"](4,"Company Name"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"br"),o["\u0275\u0275elementStart"](6,"input",15),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().object.name=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"div",14),o["\u0275\u0275elementStart"](8,"label"),o["\u0275\u0275text"](9,"Company Phone"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](10,"br"),o["\u0275\u0275elementStart"](11,"input",16),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().object.phone=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"div",14),o["\u0275\u0275elementStart"](13,"label"),o["\u0275\u0275text"](14,"Company Email"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](15,"br"),o["\u0275\u0275elementStart"](16,"input",17),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().object.email=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",14),o["\u0275\u0275elementStart"](18,"label"),o["\u0275\u0275text"](19,"Company Address (Location)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](20,"br"),o["\u0275\u0275elementStart"](21,"input",18),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().object.address=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](22,"div",14),o["\u0275\u0275elementStart"](23,"label"),o["\u0275\u0275text"](24,"Company Digital Address "),o["\u0275\u0275elementStart"](25,"em",19),o["\u0275\u0275text"](26,"(Optional)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](27,"br"),o["\u0275\u0275elementStart"](28,"input",20),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().object.digital_address=e})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](29,"button",21),o["\u0275\u0275text"](30,"Submit"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var i=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngModel",i.object.name),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",i.object.phone),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",i.object.email),o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("ngModel",i.object.address),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngModel",i.object.digital_address)}}var p,g,h,v=[{path:"",component:(p=function(){function e(t,n,i){_classCallCheck(this,e),this.dbService=t,this.notify=n,this.authService=i,this.error=!1,this.is_loading=!0,this.is_loaded=!1,-1==this.authService.current_user.permissions.indexOf("Manage Settings")&&(this.goBack(),this.notify.failNotification("You are not permitted to view this page")),this.dbService.setTitle("Settings")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dbService.getData("admin/findBranchById?id="+this.authService.current_user.company_id,this.authService.current_user).subscribe((function(t){e.object=t.data,console.log(e.object),e.is_loading=!1,e.is_loaded=!0,e.error=!1}),(function(t){e.is_loading=!1,e.error=!0,e.is_loaded=!1}))}},{key:"save",value:function(){var e=this;this.notify.showLoading();var t=new FormData;t.append("name",this.object.name),t.append("address",this.object.address),t.append("digital_address",this.object.digital_address),t.append("phone",this.object.phone),t.append("email",this.object.email),t.append("id",this.object.id),this.dbService.postData(t,"admin/updateCompanySettings",this.authService.current_user).subscribe((function(t){e.notify.hideLoading(),"-1"===t.status&&e.notify.failNotification("Internal server error. Please contact admin"),"-9"===t.status?e.notify.showNotification("You are not permitted to perform this action","fail",3e3):e.notify.showNotification("saved successfully","success",3e3)}),(function(t){e.notify.noConnectionNotification()}))}},{key:"goBack",value:function(){window.history.back()}}]),e}(),p.\u0275fac=function(e){return new(e||p)(o["\u0275\u0275directiveInject"](r.a),o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](d.a))},p.\u0275cmp=o["\u0275\u0275defineComponent"]({type:p,selectors:[["app-settings"]],decls:12,vars:3,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header"],["class","body",4,"ngIf"],["class","",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"body"],[1,""],[1,"card-body"],["ngNativeValidate","",3,"ngSubmit"],[1,"form-group"],["name","name","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","email","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","address","required","","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-muted"],["name","digital_address","type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-block","btn-primary"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"div",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"h5"),o["\u0275\u0275text"](4,"Settings"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"div",3),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"div",5),o["\u0275\u0275elementStart"](8,"div",6),o["\u0275\u0275template"](9,m,3,0,"div",7),o["\u0275\u0275template"](10,u,1,0,"app-loading",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](11,f,31,5,"div",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](9),o["\u0275\u0275property"]("ngIf",t.error),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.is_loading),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.is_loaded))},directives:[i.j,s.a,c.f,c.g,c.b,c.l,c.e,c.h],styles:[""]}),p)}],b=((g=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:g}),g.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||g)},imports:[[a.f.forChild(v)],a.f]}),g),y=n("nEHF"),S=((h=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||h)},imports:[[i.b,b,y.a]]}),h)},hiAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),a=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa","fa-spin","fa-spinner"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"i",0),i["\u0275\u0275text"](1," Loading..."))},styles:[""]}),e}()}}]);