(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"2+0c":function(e,t,n){"use strict";n.r(t),n.d(t,"UserActivitiesModule",(function(){return y}));var i=n("ofXK"),a=n("tyNb"),r=n("fXoL"),s=n("c92J"),l=n("1VJT"),d=n("ccyI"),o=n("3Pt+"),c=n("8ApV"),m=n("hiAm");function u(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](e.user.display_name)}}function p(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",e.activity," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.created_on)}}function h(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",19),r["\u0275\u0275element"](1,"div",20),r["\u0275\u0275elementStart"](2,"table",21),r["\u0275\u0275elementStart"](3,"thead"),r["\u0275\u0275elementStart"](4,"tr"),r["\u0275\u0275element"](5,"th"),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Activity"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"tbody"),r["\u0275\u0275template"](11,p,7,3,"tr",22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](11),r["\u0275\u0275property"]("ngForOf",e.activities)}}function f(e,t){1&e&&r["\u0275\u0275element"](0,"app-loading")}function v(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",20),r["\u0275\u0275text"](1," Unable to connect to server. Please check your connection "),r["\u0275\u0275elementEnd"]())}const g=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a){this.dbService=e,this.location=n,this.notify=i,this.authService=a,this.error=!1,this.is_loading=!0,this.is_loaded=!1,this.can_view=!0,this.url="getUserActivities",this.url_has_params="no",this.dbService.setTitle("User Activities"),this.id=t.snapshot.params.id,-1==this.authService.current_user.permissions.indexOf("View User Activities")&&(this.can_view=!1)}ngOnInit(){this.getActivities()}getActivities(){this.notify.showLoading(),this.url="admin/getUserActivities/"+this.id,null!=this.start_date&&null!=this.start_date&&null!=this.end_date&&null!=this.end_date&&(this.url="admin/getUserActivities/"+this.id+"?start_date="+this.start_date+"&end_date="+this.end_date,this.url_has_params="yes"),this.dbService.getData(this.url,this.authService.current_user).subscribe(e=>{this.notify.hideLoading(),this.activities=e.data,this.limit=e.limit,this.offset=this.activities.length,this.total=e.total,this.is_loading=!1,this.is_loaded=!0,this.error=!1,this.user=e.user},e=>{this.notify.hideLoading(),this.is_loading=!1,this.error=!0,this.is_loaded=!1})}clearFilter(){this.start_date=void 0,this.end_date=void 0,this.getActivities()}addMoreItems(e){e.map(e=>{this.activities.push(e)})}goBack(){window.history.back()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-activities"]],decls:28,vars:11,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[4,"ngIf"],["ngNativeValidate","",3,"ngSubmit"],["n","ngForm"],[1,"text-muted"],["required","","type","date","name","start_date",3,"ngModel","ngModelChange"],["required","","type","date","name","end_date",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Submit",1,"btn","btn-primary"],["role","button",1,"btn","btn-warning",3,"click"],[1,"card-body"],["class","table-responsive",4,"ngIf"],[1,"row","clear-fix","text-center"],[3,"url_has_params","limit","url","offset","total","onFinish"],["class","",4,"ngIf"],[1,"table-responsive"],[1,""],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275elementStart"](6,"h4"),r["\u0275\u0275text"](7,"Activity History for "),r["\u0275\u0275template"](8,u,2,1,"span",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"form",7,8),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.getActivities()})),r["\u0275\u0275elementStart"](11,"span",9),r["\u0275\u0275text"](12,"Optional: filter between dates "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"label"),r["\u0275\u0275text"](14," Start Date: "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"input",10),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.start_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"label"),r["\u0275\u0275text"](17,"End Date: "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"input",11),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.end_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](19,"input",12),r["\u0275\u0275elementStart"](20,"a",13),r["\u0275\u0275listener"]("click",(function(){return t.clearFilter()})),r["\u0275\u0275text"](21,"Clear filter / View All"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"div",14),r["\u0275\u0275template"](23,h,12,1,"div",15),r["\u0275\u0275elementStart"](24,"div",16),r["\u0275\u0275elementStart"](25,"app-load-more",17),r["\u0275\u0275listener"]("onFinish",(function(e){return t.addMoreItems(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](26,f,1,0,"app-loading",6),r["\u0275\u0275template"](27,v,2,0,"div",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngIf",t.is_loaded),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModel",t.start_date),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.end_date),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",t.is_loaded),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("url_has_params",t.url_has_params)("limit",t.limit)("url",t.url)("offset",t.offset)("total",t.total),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.is_loaded),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.error))},directives:[i.j,o.f,o.g,o.b,o.l,o.e,o.h,c.a,i.i,m.a],styles:[""]}),e})()}];let _=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(g)],a.f]}),e})();var S=n("nEHF");let y=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,_,S.a]]}),e})()},hiAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa","fa-spin","fa-spinner"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"i",0),i["\u0275\u0275text"](1," Loading..."))},styles:[""]}),e})()}}]);