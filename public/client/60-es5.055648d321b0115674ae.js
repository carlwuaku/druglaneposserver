function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"2+0c":function(e,t,n){"use strict";n.r(t),n.d(t,"UserActivitiesModule",(function(){return x}));var i=n("ofXK"),a=n("tyNb"),r=n("fXoL"),l=n("c92J"),s=n("1VJT"),d=n("ccyI"),o=n("3Pt+"),c=n("8ApV"),m=n("hiAm");function u(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.user.display_name)}}function f(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"td"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"td"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index;r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i+1),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",n.activity," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.created_on)}}function p(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",19),r["\u0275\u0275element"](1,"div",20),r["\u0275\u0275elementStart"](2,"table",21),r["\u0275\u0275elementStart"](3,"thead"),r["\u0275\u0275elementStart"](4,"tr"),r["\u0275\u0275element"](5,"th"),r["\u0275\u0275elementStart"](6,"th"),r["\u0275\u0275text"](7,"Activity"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"th"),r["\u0275\u0275text"](9,"Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"tbody"),r["\u0275\u0275template"](11,f,7,3,"tr",22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](11),r["\u0275\u0275property"]("ngForOf",n.activities)}}function v(e,t){1&e&&r["\u0275\u0275element"](0,"app-loading")}function h(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",20),r["\u0275\u0275text"](1," Unable to connect to server. Please check your connection "),r["\u0275\u0275elementEnd"]())}var g,_,y,S=[{path:"",component:(g=function(){function e(t,n,i,a,r){_classCallCheck(this,e),this.dbService=t,this.location=i,this.notify=a,this.authService=r,this.error=!1,this.is_loading=!0,this.is_loaded=!1,this.can_view=!0,this.url="getUserActivities",this.url_has_params="no",this.dbService.setTitle("User Activities"),this.id=n.snapshot.params.id,-1==this.authService.current_user.permissions.indexOf("View User Activities")&&(this.can_view=!1)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getActivities()}},{key:"getActivities",value:function(){var e=this;this.notify.showLoading(),this.url="admin/getUserActivities/"+this.id,null!=this.start_date&&null!=this.start_date&&null!=this.end_date&&null!=this.end_date&&(this.url="admin/getUserActivities/"+this.id+"?start_date="+this.start_date+"&end_date="+this.end_date,this.url_has_params="yes"),this.dbService.getData(this.url,this.authService.current_user).subscribe((function(t){e.notify.hideLoading(),e.activities=t.data,e.limit=t.limit,e.offset=e.activities.length,e.total=t.total,e.is_loading=!1,e.is_loaded=!0,e.error=!1,e.user=t.user}),(function(t){e.notify.hideLoading(),e.is_loading=!1,e.error=!0,e.is_loaded=!1}))}},{key:"clearFilter",value:function(){this.start_date=void 0,this.end_date=void 0,this.getActivities()}},{key:"addMoreItems",value:function(e){var t=this;e.map((function(e){t.activities.push(e)}))}},{key:"goBack",value:function(){window.history.back()}}]),e}(),g.\u0275fac=function(e){return new(e||g)(r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](d.a))},g.\u0275cmp=r["\u0275\u0275defineComponent"]({type:g,selectors:[["app-user-activities"]],decls:28,vars:11,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[4,"ngIf"],["ngNativeValidate","",3,"ngSubmit"],["n","ngForm"],[1,"text-muted"],["required","","type","date","name","start_date",3,"ngModel","ngModelChange"],["required","","type","date","name","end_date",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Submit",1,"btn","btn-primary"],["role","button",1,"btn","btn-warning",3,"click"],[1,"card-body"],["class","table-responsive",4,"ngIf"],[1,"row","clear-fix","text-center"],[3,"url_has_params","limit","url","offset","total","onFinish"],["class","",4,"ngIf"],[1,"table-responsive"],[1,""],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275elementStart"](6,"h4"),r["\u0275\u0275text"](7,"Activity History for "),r["\u0275\u0275template"](8,u,2,1,"span",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"form",7,8),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.getActivities()})),r["\u0275\u0275elementStart"](11,"span",9),r["\u0275\u0275text"](12,"Optional: filter between dates "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"label"),r["\u0275\u0275text"](14," Start Date: "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"input",10),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.start_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"label"),r["\u0275\u0275text"](17,"End Date: "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"input",11),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.end_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](19,"input",12),r["\u0275\u0275elementStart"](20,"a",13),r["\u0275\u0275listener"]("click",(function(){return t.clearFilter()})),r["\u0275\u0275text"](21,"Clear filter / View All"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"div",14),r["\u0275\u0275template"](23,p,12,1,"div",15),r["\u0275\u0275elementStart"](24,"div",16),r["\u0275\u0275elementStart"](25,"app-load-more",17),r["\u0275\u0275listener"]("onFinish",(function(e){return t.addMoreItems(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](26,v,1,0,"app-loading",6),r["\u0275\u0275template"](27,h,2,0,"div",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngIf",t.is_loaded),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModel",t.start_date),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.end_date),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",t.is_loaded),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("url_has_params",t.url_has_params)("limit",t.limit)("url",t.url)("offset",t.offset)("total",t.total),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.is_loaded),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.error))},directives:[i.j,o.f,o.g,o.b,o.l,o.e,o.h,c.a,i.i,m.a],styles:[""]}),g)}],b=((_=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:_}),_.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||_)},imports:[[a.f.forChild(S)],a.f]}),_),E=n("nEHF"),x=((y=function e(){_classCallCheck(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:y}),y.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||y)},imports:[[i.b,b,E.a]]}),y)},hiAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),a=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa","fa-spin","fa-spinner"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"i",0),i["\u0275\u0275text"](1," Loading..."))},styles:[""]}),e}()}}]);