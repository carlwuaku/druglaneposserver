(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"9EpT":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n("fXoL");const s=["bcElement"],a=n("YsXA");let r=(()=>{class t{constructor(t){this.renderer=t,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}ngOnChanges(){this.createBarcode()}createBarcode(){if(!this.value)return;let t;switch(this.elementType){case"img":t=this.renderer.createElement("img");break;case"canvas":t=this.renderer.createElement("canvas");break;case"svg":default:t=this.renderer.createElement("svg","svg")}a(t,this.value,this.options);for(const e of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,e);this.renderer.appendChild(this.bcElement.nativeElement,t)}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.Renderer2))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["ngx-barcode6"]],viewQuery:function(t,e){var n;1&t&&i["\u0275\u0275staticViewQuery"](s,!0),2&t&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(e.bcElement=n.first)},inputs:{elementType:["bc-element-type","elementType"],cssClass:["bc-class","cssClass"],format:["bc-format","format"],lineColor:["bc-line-color","lineColor"],width:["bc-width","width"],height:["bc-height","height"],displayValue:["bc-display-value","displayValue"],fontOptions:["bc-font-options","fontOptions"],font:["bc-font","font"],textAlign:["bc-text-align","textAlign"],textPosition:["bc-text-position","textPosition"],textMargin:["bc-text-margin","textMargin"],fontSize:["bc-font-size","fontSize"],background:["bc-background","background"],margin:["bc-margin","margin"],marginTop:["bc-margin-top","marginTop"],marginBottom:["bc-margin-bottom","marginBottom"],marginLeft:["bc-margin-left","marginLeft"],marginRight:["bc-margin-right","marginRight"],value:["bc-value","value"],valid:["bc-valid","valid"]},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:2,consts:[["bcElement",""]],template:function(t,e){1&t&&i["\u0275\u0275element"](0,"div",null,0),2&t&&i["\u0275\u0275classMap"](e.cssClass)},encapsulation:2}),t})(),o=(()=>{class t{}return t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[]]}),t})()},hiAm:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa","fa-spin","fa-spinner"]],template:function(t,e){1&t&&(i["\u0275\u0275element"](0,"i",0),i["\u0275\u0275text"](1," Loading..."))},styles:[""]}),t})()},nBlB:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("ofXK"),s=n("nEHF"),a=n("9EpT"),r=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.b,s.a,a.b]]}),t})()},pEcs:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n("fXoL");class s{constructor(){}}var a=n("c92J"),r=n("ccyI"),o=n("1VJT"),c=n("ofXK"),d=n("3Pt+"),l=n("hiAm");function h(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](3).addItem()})),i["\u0275\u0275element"](1,"i",9),i["\u0275\u0275elementEnd"]()}}function m(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",10),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](3).list()})),i["\u0275\u0275element"](1,"i",11),i["\u0275\u0275elementEnd"]()}}function u(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;i["\u0275\u0275propertyInterpolate"]("value",t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",t.name," ")}}function p(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275template"](1,h,2,0,"button",4),i["\u0275\u0275template"](2,m,2,0,"button",5),i["\u0275\u0275elementStart"](3,"select",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).selected_item=e}))("change",(function(){return i["\u0275\u0275restoreView"](t),i["\u0275\u0275nextContext"](2).itemSelected()})),i["\u0275\u0275template"](4,u,2,2,"option",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&t){const t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.show_add),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.show_add),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.selected_item),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.objects)}}function f(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span",2),i["\u0275\u0275template"](1,p,5,4,"span",3),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.is_loaded)}}function g(t,e){1&t&&i["\u0275\u0275element"](0,"app-loading")}function y(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"h4"),i["\u0275\u0275text"](2,"Not found"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function v(t,e){if(1&t){const t=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",18),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](t);const n=e.$implicit;return i["\u0275\u0275nextContext"](3).add(n)})),i["\u0275\u0275elementStart"](1,"b"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](3,"i",19),i["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("",t.name," ")}}function b(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",16),i["\u0275\u0275template"](1,v,4,1,"a",17),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.objects)}}function _(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"div",13),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275template"](2,g,1,0,"app-loading",3),i["\u0275\u0275template"](3,y,3,0,"div",3),i["\u0275\u0275template"](4,b,2,1,"div",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.is_searching),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.error_search),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.is_finished_search)}}let S=(()=>{class t{constructor(t,e,n){this.dbService=t,this.authService=e,this.notify=n,this.onFinish=new i.EventEmitter,this.btn_text="Select",this.onAdd=new i.EventEmitter,this.type="select",this.show_add=!0,this.param="",this.selected=null,this.is_searching=!1,this.is_finished_search=!1,this.error_search=!1,this.is_loaded=!1,this.added=[]}ngOnInit(){console.log(this.type),"list"!=this.type&&"select"!=this.type||this.list(),"emit"==this.type&&this.getAll()}itemSelected(){for(var t=0;t<this.objects.length;t++)if(this.objects[t].id==this.selected_item){this.onFinish.emit(this.objects[t]);break}}itemAdded(t){this.objects.push(t),$("#add_vendor_modal").modal("hide"),this.onFinish.emit(t)}list(){this.is_loaded=!1,this.notify.showLoading(),this.dbService.getData("admin/getBranches?only_others=yes",this.authService.current_user).subscribe(t=>{this.notify.hideLoading(),"-1"===t.status||(this.objects=t.data,this.is_loaded=!0)},t=>{this.notify.hideLoading(),this.notify.noConnectionNotification()})}getAll(){this.is_loaded=!1,this.notify.showLoading();let t="admin/getBranches?only_others=no";"admin"==this.authService.current_user.type&&(t+="&parent_company_id="+this.authService.current_user.parent_company_id),this.dbService.getData(t,this.authService.current_user).subscribe(t=>{this.notify.hideLoading(),"-1"===t.status||(this.objects=t.data,this.onFinish.emit(this.objects),this.is_loaded=!0)},t=>{this.notify.hideLoading(),this.notify.noConnectionNotification()})}add(t){this.added.push(t),this.onAdd.emit(t),t.is_selected=!0}select(t){this.selected=t,this.onFinish.emit(t)}addItem(){this.notify.showLoading();let t=window.prompt("Enter name of branch");if(this.dbService.isEmpty(t))return this.notify.failNotification("name is required"),!1;let e=window.prompt("Enter phone number of branch");if(this.dbService.isEmpty(e))return this.notify.failNotification("Phone number is required"),!1;let n=new FormData;n.append("name",t),n.append("phone",e),this.dbService.postData(n,"admin/saveBranch",this.authService.current_user).subscribe(n=>{if(this.notify.hideLoading(),"-1"===n.status)this.notify.failNotification("Server error. Please try again");else if("-1"===n.status)this.notify.failNotification("Unable to authenticate. Please login again");else if("-9"===n.status)this.notify.showNotification("You are not permitted to perform this action","fail",3e3);else{let i=new s;i.id=n.status,i.name=t,i.phone=e,this.objects.push(i),this.notify.successNotification("Branch added successfully"),this.selected_item=i.id,this.itemSelected()}},t=>{this.notify.noConnectionNotification()})}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](o.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-select-branch"]],inputs:{btn_text:"btn_text",type:"type",show_add:"show_add",selected_item:"selected_item"},outputs:{onFinish:"onFinish",onAdd:"onAdd"},decls:2,vars:2,consts:[["class","",4,"ngIf"],["class","card",4,"ngIf"],[1,""],[4,"ngIf"],["type","button","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-info",3,"click",4,"ngIf"],["name","vendors",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-refresh"],[3,"value"],[1,"card"],[1,"body"],["class","list-group",4,"ngIf"],[1,"list-group"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"fa","fa-plus","pull-right"]],template:function(t,e){1&t&&(i["\u0275\u0275template"](0,f,2,1,"span",0),i["\u0275\u0275template"](1,_,5,3,"div",1)),2&t&&(i["\u0275\u0275property"]("ngIf","select"==e.type),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","list"==e.type))},directives:[c.j,d.m,d.e,d.h,c.i,d.i,d.n,l.a],styles:[""]}),t})()},rNAZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("ofXK"),s=n("nEHF"),a=n("6QD7"),r=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.b,s.a,a.b],a.b]}),t})()},sodU:function(t,e,n){"use strict";n.r(e),n.d(e,"StockAdjustmentReportModule",(function(){return v}));var i=n("ofXK"),s=n("tyNb"),a=n("fXoL"),r=n("ccyI"),o=n("c92J"),c=n("1VJT"),d=n("3Pt+"),l=n("pEcs"),h=n("UXBy");function m(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",21),a["\u0275\u0275elementStart"](1,"div",22),a["\u0275\u0275element"](2,"app-stock-report",23),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("search_by","dates")("start_date",t.start_date)("end_date",t.end_date)}}const u=[{path:"",component:(()=>{class t{constructor(t,e,n,i,s){this.authService=t,this.dbService=e,this.notify=n,this.router=i,this.ar=s,this.quick_option="this_month",this.parent_company_id=null,this.company_id=null,this.branches=[],this.user_type="staff",this.objects=[],this.is_loading=!1,this.error=!1,this.is_loaded=!1,this.sessions=[],this.search_by="dates",this.start_date=this.dbService.getToday(),this.end_date=this.dbService.getToday(),-1==this.authService.current_user.permissions.indexOf("Adjust Stock")&&(this.notify.failNotification("You are not permitted to view that page"),this.dbService.goBackHome()),this.dbService.setTitle("Stock Adjustment Report"),this.year=this.dbService.getThisYear(),"staff"===this.user_type&&(this.user_type=this.authService.current_user.type,this.parent_company_id=this.authService.current_user.parent_company_id,this.company_name=this.authService.current_user.company_name,this.company_id=this.authService.current_user.company_id)}ngOnInit(){console.log(this.company_id),this.setDates()}setBranches(t){this.branches=t}cancel(){this.start_date=void 0,this.end_date=void 0}setDates(){let t=this.dbService.setDates(this.quick_option);this.start_date=t.start_date,this.end_date=t.end_date}goBack(){window.history.back()}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](o.a),a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](s.c),a["\u0275\u0275directiveInject"](s.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-stock-adjustment-report"]],decls:42,vars:5,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-12"],["name","quick_options",3,"ngModel","change","ngModelChange"],["value","today"],["value","yesterday"],["value","this_week"],["value","last_week"],["value","this_month"],["value","last_month"],["value","first_quarter"],["value","second_quarter"],["value","third_quarter"],["value","last_quarter"],["value","this_year"],["value","last_year"],["type","date","name","start_date",3,"ngModel","ngModelChange"],["type","date","name","end_date",3,"ngModel","ngModelChange"],["class","card",4,"ngIf"],[3,"type","onFinish"],[1,"card"],[1,"card-body"],[3,"search_by","start_date","end_date"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"section",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"h5"),a["\u0275\u0275text"](5,"Stock Adjustment Report"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div"),a["\u0275\u0275elementStart"](7,"label"),a["\u0275\u0275text"](8,"Select period"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"select",4),a["\u0275\u0275listener"]("change",(function(){return e.setDates()}))("ngModelChange",(function(t){return e.quick_option=t})),a["\u0275\u0275elementStart"](10,"option",5),a["\u0275\u0275text"](11,"Today"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"option",6),a["\u0275\u0275text"](13,"Yesterday"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"option",7),a["\u0275\u0275text"](15,"This Week"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"option",8),a["\u0275\u0275text"](17,"Last Week"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"option",9),a["\u0275\u0275text"](19,"This Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](20,"option",10),a["\u0275\u0275text"](21,"Last Month"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"option",11),a["\u0275\u0275text"](23,"1st quarter"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"option",12),a["\u0275\u0275text"](25,"2nd quarter"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"option",13),a["\u0275\u0275text"](27,"3rd quarter"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](28,"option",14),a["\u0275\u0275text"](29,"4th quarter"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"option",15),a["\u0275\u0275text"](31,"This Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"option",16),a["\u0275\u0275text"](33,"Last Year"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](34,"label"),a["\u0275\u0275text"](35,"Start Date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"input",17),a["\u0275\u0275listener"]("ngModelChange",(function(t){return e.start_date=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"label"),a["\u0275\u0275text"](38,"End Date"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"input",18),a["\u0275\u0275listener"]("ngModelChange",(function(t){return e.end_date=t})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](40,m,3,3,"div",19),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"app-select-branch",20),a["\u0275\u0275listener"]("onFinish",(function(t){return e.setBranches(t)})),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](9),a["\u0275\u0275property"]("ngModel",e.quick_option),a["\u0275\u0275advance"](27),a["\u0275\u0275property"]("ngModel",e.start_date),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",e.end_date),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null!=e.start_date&&null!=e.end_date),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("type","emit"))},directives:[d.m,d.e,d.h,d.i,d.n,d.b,i.j,l.a,h.a],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[s.f.forChild(u)],s.f]}),t})();var f=n("nEHF"),g=n("rNAZ"),y=n("nBlB");let v=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.b,p,f.a,g.a,y.a]]}),t})()}}]);