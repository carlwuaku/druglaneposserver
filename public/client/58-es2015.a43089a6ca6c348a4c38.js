(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"1a67":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminDashboardModule",(function(){return E}));var a=n("ofXK"),l=n("tyNb"),r=n("fXoL"),d=n("ccyI"),i=n("1VJT"),s=n("c92J"),m=n("3Pt+");function o(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275elementStart"](2,"a",39),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"td"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate1"]("routerLink","/branch_details/",e.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"]("",e.best_seller_by_quantity," (",e.best_seller_quantity,") "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate2"]("",e.best_seller_by_amount," (",e.best_seller_amount,") ")}}function c(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"tr"),r["\u0275\u0275elementStart"](1,"td"),r["\u0275\u0275elementStart"](2,"a",39),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"td"),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"td"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"td"),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"td"),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate1"]("routerLink","/branch_details/",e.id,""),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"]("",e.name," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",e.total_sale," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.total_purchased),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",e.transfers_in," "),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"]("",e.transfers_out," ")}}const h=[{path:"",component:(()=>{class e{constructor(e,t,n){this.authService=e,this.notify=t,this.dbService=n,this.last_month_sales="...",this.this_month_sales="...",this.stock_value="...",this.expired_value="...",this.branches=[],this.branch_data=[],this.best_sellers=[],this.quick_option="this_month",this.user=this.authService.current_user,"admin"!=this.user.type&&(alert("Not permitted. Please logout and login as an administrator"),this.goBack());const a=this.dbService.setDates(this.quick_option);this.start_date=a.start_date,this.end_date=a.end_date}ngOnInit(){this.getData(),this.getBestSellers(),this.getAdminDashboard()}getData(){this.notify.showLoading(),this.dbService.getData("admin/getBranchComparisons?start_date="+this.start_date+"&end_date="+this.end_date,this.authService.current_user).subscribe(e=>{this.branch_data=e.data,this.notify.hideLoading()},e=>{this.notify.hideLoading()})}getBestSellers(){this.notify.showLoading(),this.dbService.getData("admin/getBestSellers?start_date="+this.start_date+"&end_date="+this.end_date,this.authService.current_user).subscribe(e=>{this.best_sellers=e.data,this.notify.hideLoading()},e=>{this.notify.hideLoading()})}getAdminDashboard(){this.notify.showLoading(),this.dbService.getData("admin/getAdminDashboardMeter",this.authService.current_user).subscribe(e=>{this.this_month_sales=e.this_month_total,this.last_month_sales=e.last_month_total,this.stock_value=e.stock_value,this.expired_value=e.expired_value,this.notify.hideLoading()},e=>{this.notify.hideLoading()})}setDates(){const e=this.dbService.setDates(this.quick_option);this.start_date=e.start_date,this.end_date=e.end_date}branchesSelected(e){this.branches=e}goBack(){window.history.back()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-admin-dashboard"]],decls:118,vars:9,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-md-3","col-sm-6","col-12"],[1,"info-box"],[1,"info-box-icon","bg-info"],[1,"fa","fa-database"],[1,"info-box-content"],[1,"info-box-text"],[1,"info-box-number"],[1,"info-box-icon","bg-danger"],[1,"fa","fa-exclamation-triangle"],[1,"fa","fa-print"],["ngNativeValidate","",3,"ngSubmit"],["n","ngForm"],["name","quick_options",3,"ngModel","change","ngModelChange"],["value","today"],["value","yesterday"],["value","this_week"],["value","last_week"],["value","this_month"],["value","last_month"],["value","first_quarter"],["value","second_quarter"],["value","third_quarter"],["value","last_quarter"],["value","this_year"],["value","last_year"],["type","date","name","start_date",3,"ngModel","ngModelChange"],["type","date","name","end_date",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Get Data",1,"btn","btn-sm","btn-success"],[1,"col-md-4"],[1,"card"],[1,"card-header"],[1,"card-body","table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"col-md-8","table-responsive"],[1,"card-body"],[3,"routerLink"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"h4"),r["\u0275\u0275text"](3,"Admin Dashboard"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",3),r["\u0275\u0275elementStart"](6,"div",4),r["\u0275\u0275elementStart"](7,"span",5),r["\u0275\u0275element"](8,"i",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",7),r["\u0275\u0275elementStart"](10,"span",8),r["\u0275\u0275text"](11,"Stock Value"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"span",9),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",3),r["\u0275\u0275elementStart"](15,"div",4),r["\u0275\u0275elementStart"](16,"span",10),r["\u0275\u0275element"](17,"i",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"div",7),r["\u0275\u0275elementStart"](19,"span",8),r["\u0275\u0275text"](20,"Expired Stock Value"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](21,"span",9),r["\u0275\u0275text"](22),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"div",3),r["\u0275\u0275elementStart"](24,"div",4),r["\u0275\u0275elementStart"](25,"span",5),r["\u0275\u0275element"](26,"i",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](27,"div",7),r["\u0275\u0275elementStart"](28,"span",8),r["\u0275\u0275text"](29,"Last Month Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"span",9),r["\u0275\u0275text"](31),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"div",3),r["\u0275\u0275elementStart"](33,"div",4),r["\u0275\u0275elementStart"](34,"span",5),r["\u0275\u0275element"](35,"i",12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](36,"div",7),r["\u0275\u0275elementStart"](37,"span",8),r["\u0275\u0275text"](38,"This Month Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"span",9),r["\u0275\u0275text"](40),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275text"](41," Branch Activity Summary. Click on a branch name to get more details. "),r["\u0275\u0275element"](42,"hr"),r["\u0275\u0275elementStart"](43,"form",13,14),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.getData()})),r["\u0275\u0275elementStart"](45,"label"),r["\u0275\u0275text"](46,"Select period"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](47,"select",15),r["\u0275\u0275listener"]("change",(function(){return t.setDates()}))("ngModelChange",(function(e){return t.quick_option=e})),r["\u0275\u0275elementStart"](48,"option",16),r["\u0275\u0275text"](49,"Today"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](50,"option",17),r["\u0275\u0275text"](51,"Yesterday"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](52,"option",18),r["\u0275\u0275text"](53,"This Week"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](54,"option",19),r["\u0275\u0275text"](55,"Last Week"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](56,"option",20),r["\u0275\u0275text"](57,"This Month"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](58,"option",21),r["\u0275\u0275text"](59,"Last Month"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](60,"option",22),r["\u0275\u0275text"](61,"1st quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](62,"option",23),r["\u0275\u0275text"](63,"2nd quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](64,"option",24),r["\u0275\u0275text"](65,"3rd quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](66,"option",25),r["\u0275\u0275text"](67,"4th quarter"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](68,"option",26),r["\u0275\u0275text"](69,"This Year"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](70,"option",27),r["\u0275\u0275text"](71,"Last Year"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](72,"label"),r["\u0275\u0275text"](73,"Start Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](74,"input",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.start_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](75,"label"),r["\u0275\u0275text"](76,"End Date"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](77,"input",29),r["\u0275\u0275listener"]("ngModelChange",(function(e){return t.end_date=e})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](78,"input",30),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](79,"div",2),r["\u0275\u0275elementStart"](80,"div",31),r["\u0275\u0275elementStart"](81,"div",32),r["\u0275\u0275elementStart"](82,"div",33),r["\u0275\u0275elementStart"](83,"h4"),r["\u0275\u0275text"](84,"Best Selling Products"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](85,"div",34),r["\u0275\u0275elementStart"](86,"table",35),r["\u0275\u0275elementStart"](87,"thead"),r["\u0275\u0275elementStart"](88,"tr"),r["\u0275\u0275elementStart"](89,"th"),r["\u0275\u0275text"](90,"Branch"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](91,"th"),r["\u0275\u0275text"](92,"By Quantity"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](93,"th"),r["\u0275\u0275text"](94,"By Amount"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](95,"tbody"),r["\u0275\u0275template"](96,o,8,6,"tr",36),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](97,"div",37),r["\u0275\u0275elementStart"](98,"div",32),r["\u0275\u0275elementStart"](99,"div",33),r["\u0275\u0275elementStart"](100,"h4"),r["\u0275\u0275text"](101,"Branch Summary"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](102,"div",38),r["\u0275\u0275elementStart"](103,"table",35),r["\u0275\u0275elementStart"](104,"thead"),r["\u0275\u0275elementStart"](105,"tr"),r["\u0275\u0275elementStart"](106,"th"),r["\u0275\u0275text"](107,"Branch"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](108,"th"),r["\u0275\u0275text"](109,"Total Sales"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](110,"th"),r["\u0275\u0275text"](111,"Total Purchases"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](112,"th"),r["\u0275\u0275text"](113,"Total Transfers In"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](114,"th"),r["\u0275\u0275text"](115,"Total Transfers Out"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](116,"tbody"),r["\u0275\u0275template"](117,c,12,6,"tr",36),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](13),r["\u0275\u0275textInterpolate1"]("",t.stock_value," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.expired_value," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.last_month_sales," "),r["\u0275\u0275advance"](9),r["\u0275\u0275textInterpolate1"]("",t.this_month_sales," "),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModel",t.quick_option),r["\u0275\u0275advance"](27),r["\u0275\u0275property"]("ngModel",t.start_date),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModel",t.end_date),r["\u0275\u0275advance"](19),r["\u0275\u0275property"]("ngForOf",t.best_sellers),r["\u0275\u0275advance"](21),r["\u0275\u0275property"]("ngForOf",t.branch_data))},directives:[m.f,m.g,m.m,m.e,m.h,m.i,m.n,m.b,a.i,l.e],styles:[""]}),e})()}];let u=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.f.forChild(h)],l.f]}),e})();var S=n("nEHF"),p=n("wDHj");let E=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,u,S.a,p.a]]}),e})()},wDHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ofXK"),l=n("nEHF"),r=n("6QD7"),d=n("fXoL");let i=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.b,l.a,r.b],r.b]}),e})()}}]);