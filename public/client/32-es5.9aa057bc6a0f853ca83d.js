function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"1oy2":function(e,t,n){"use strict";n.r(t),n.d(t,"AddOrderModule",(function(){return P}));var i=n("ofXK"),r=n("tyNb"),a=n("fXoL"),o=n("N6Jo"),s=function e(){_classCallCheck(this,e)},l=n("c92J"),d=n("eJvr"),c=n("1VJT"),u=n("ccyI"),h=n("3Pt+");function m(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",5),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275propertyInterpolate"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("",n," ")}}function p(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"option",6),a["\u0275\u0275text"](1,"Other"),a["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275elementStart"](1,"select",1),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().selected=e}))("change",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().item_selected()})),a["\u0275\u0275template"](2,m,2,2,"option",2),a["\u0275\u0275template"](3,p,2,0,"option",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"i",4),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().ngOnInit()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",i.selected),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",i.objects),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",i.show_other)}}function _(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",5),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275propertyInterpolate"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("",n," ")}}function g(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275elementStart"](1,"datalist",7),a["\u0275\u0275template"](2,_,2,2,"option",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",n.objects)}}var v,y=((v=function(){function e(t,n,i){_classCallCheck(this,e),this.dbService=t,this.notify=n,this.authService=i,this.objects=[],this.is_loading=!1,this.error=!1,this.is_loaded=!1,this.onFinish=new a.EventEmitter,this.selected=null,this.type="",this.show_other=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.start()}},{key:"ngOnChanges",value:function(){console.log(this.tracker),this.start()}},{key:"start",value:function(){var e=this;this.is_loaded=!1,this.is_loading=!0;var t="";switch(this.type){case"packaging":t="order/getDeliveryPoints?status=Pending";break;case"delivery":t="order/getDeliveryPoints?status=Packaged";break;default:t="order/getDeliveryPoints"}this.dbService.getData(t,this.authService.current_user).subscribe((function(t){"-1"===t.status&&(e.notify.failNotification(t.message),e.error=!0),"-9"===t.status?(e.notify.failNotification(t.message),e.error=!0):(e.objects=t.data,e.is_loaded=!0,e.error=!1),e.is_loading=!1}),(function(t){e.notify.noConnectionNotification()}))}},{key:"item_selected",value:function(){this.onFinish.emit(this.selected)}}]),e}()).\u0275fac=function(e){return new(e||v)(a["\u0275\u0275directiveInject"](l.a),a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](u.a))},v.\u0275cmp=a["\u0275\u0275defineComponent"]({type:v,selectors:[["app-select-delivery-point"]],inputs:{selected:"selected",type:"type",show_other:"show_other",tracker:"tracker"},outputs:{onFinish:"onFinish"},features:[a["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:2,consts:[[4,"ngIf"],["name","selected",1,"",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["value","other",4,"ngIf"],[1,"fa","fa-refresh",3,"click"],[3,"value"],["value","other"],["id","delivery_point_list"]],template:function(e,t){1&e&&(a["\u0275\u0275template"](0,f,5,3,"span",0),a["\u0275\u0275template"](1,g,3,1,"span",0)),2&e&&(a["\u0275\u0275property"]("ngIf",t.is_loaded&&"datalist"!=t.type),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.is_loaded&&"datalist"==t.type))},directives:[i.j,h.m,h.e,h.h,i.i,h.i,h.n],styles:[""]}),v),S=n("4j6H");function b(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"input",30),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().order.delivery_point=e})),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("ngModel",i.order.delivery_point)}}function w(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td"),a["\u0275\u0275elementStart"](4,"input",31),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),t.$implicit.quantity=e}))("change",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getTotal()}))("keyup",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().getTotal()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td"),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td"),a["\u0275\u0275elementStart"](10,"a",32),a["\u0275\u0275listener"]("click",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().removeItem(e)})),a["\u0275\u0275element"](11,"i",33),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.product_name),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",i.quantity),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](i.price),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"]((i.price*i.quantity).toFixed(2))}}function x(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275elementStart"](2,"div",34),a["\u0275\u0275elementStart"](3,"input",35),a["\u0275\u0275listener"]("ngModelChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().new_quantity=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"input",36),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate3"](" ",i.new_item.name," [price: ",i.new_item.price,"/",i.new_item.unit,"] "),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngModel",i.new_quantity)}}function E(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option"),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"]("",n.phone," ")}}var k,C,I,M,j=((k=function(){function e(t,n,i,r){_classCallCheck(this,e),this.dbService=t,this.localforage=n,this.notify=i,this.authService=r,this.error=!1,this.is_loading=!0,this.is_loaded=!1,this.onFinish=new a.EventEmitter,this.url="orders/findById",this.items=[],this.new_item=null,this.new_quantity=0,this.amount_paid="0",this.added_names=[],this.order_total=0,this.editing=!1,this.customers_local=[],this.ts="",null!=this.id&&null!=this.id||(this.order=new o.a,this.order.createdAt=this.dbService.getToday())}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.ts=this.dbService.getToday(),null==this.id||null==this.id||this.getObject(this.id),null!=this.order._id&&null!=this.order._id){this.getTotal();var t=this;this.items.map((function(e){t.added_names.push(e.product_name)})),this.order.createdAt=this.dbService.getToday("",this.order.createdAt),this.editing=!0}this.localforage.getItem("customers").subscribe((function(t){e.customers_local=t,console.log(e.customers_local)}),(function(e){console.log(e)}))}},{key:"deliveryPointSelected",value:function(e){this.dp_selected=e,"other"!=this.dp_selected&&(this.order.delivery_point=e)}},{key:"getObject",value:function(e){var t=this;this.dbService.getDataWithQuery(this.url,this.authService.current_user,"id="+this.id).subscribe((function(e){t.order=e.data,t.is_loading=!1,t.is_loaded=!0,t.error=!1}),(function(e){t.is_loading=!1,t.error=!0,t.is_loaded=!1}))}},{key:"customerSelected",value:function(e){this.order.customer=e}},{key:"populateCustomer",value:function(){this.first_name="",this.last_name="",this.work_place="";for(var e=0;e<this.customers_local.length;e++){var t=this.customers_local[e];if(t.phone==this.phone){this.first_name=t.first_name,this.last_name=t.last_name,this.work_place=t.place_of_work;break}}}},{key:"trackBy",value:function(e,t){return t.product._id}},{key:"productSelected",value:function(e){if(-1==this.added_names.indexOf(e.name)){if(this.new_item=e,"number"!=typeof e.price)return this.notify.failNotification("Price not defined."),!1;this.new_quantity=1,$("#enter_quantity_modal").modal("show"),$("#enter_quantity_modal").on("shown.bs.modal",(function(){$("#qtt").focus()}))}else this.notify.failNotification("Item already in list")}},{key:"increment",value:function(e){null!=e&&null!=e?(e.quantity=(parseFloat(e.quantity)+1).toString(),this.getTotal()):this.new_quantity++}},{key:"decrement",value:function(e){null!=e&&null!=e?parseFloat(e.quantity)>1&&(e.quantity=(parseFloat(e.quantity)-1).toString(),this.getTotal()):parseFloat(this.new_quantity)>1&&this.new_quantity--}},{key:"addItem",value:function(){if(!$.isNumeric(this.new_quantity))return this.notify.failNotification("Enter a valid number"),!1;if(parseFloat(this.new_quantity)<0)return this.notify.failNotification("Enter a quantity above 0"),!1;if(-1==this.added_names.indexOf(this.new_item.name)){var e=new s;e.product_name=this.new_item.name,e.product_id=this.new_item.id,e.price=this.new_item.price,e.quantity=this.new_quantity,e.total=this.new_quantity*this.new_item.price,this.items.push(e),this.added_names.push(this.new_item.name),this.new_item=null,this.new_quantity=0,this.getTotal(),$("#enter_quantity_modal").modal("hide"),this.ts=this.dbService.getToday("timestamp_string")}else this.ts=this.dbService.getToday("timestamp_string"),this.notify.failNotification("Item already in the list")}},{key:"removeItem",value:function(e){this.items.splice(this.items.indexOf(e),1),this.added_names.splice(this.added_names.indexOf(e.name),1),this.getTotal()}},{key:"setQuantities",value:function(){var e=0,t=this;$(".quantities").each((function(){t.items[e].quantity=$(this).val(),e++})),this.getTotal()}},{key:"getTotal",value:function(){var e=0;this.items.map((function(t){e+=t.quantity*t.price})),this.order_total=e}},{key:"saveItems",value:function(){var e=this;if(this.phone)return this.notify.failNotification("Please fill the customer details"),!1;if(null==this.items||null==this.items||this.items.length<1)return this.notify.failNotification("Please add at least one product"),!1;this.notify.showLoading();for(var t="RF-"+this.dbService.getToday("timestamp_string"),n=0;n<this.items.length;n++){var i=this.items[n],r=new FormData;r.append("id",this.order._id),r.append("product",i.product_id),r.append("price",i.price.toFixed(2)),r.append("quantity",i.quantity.toFixed(2)),r.append("phone",this.phone),r.append("first_name",this.first_name),r.append("last_name",this.last_name),r.append("place_of_work",this.work_place),r.append("delivery_point",this.order.delivery_point),r.append("notes",this.order.notes),r.append("status","Pending"),r.append("code",t),r.append("customer_name",this.order.customer.first_name+" "+this.order.customer.last_name),r.append("product_name",i.product_name),r.append("createdAt",this.dbService.getToday("timestamp")),r.append("display_name",this.authService.current_user.display_name),this.dbService.postData(r,"orders/save",this.authService.current_user).subscribe((function(t){e.notify.hideLoading(),"-1"===t.status?e.notify.failNotification("Unable to authenticate. Please login again"):"-9"===t.status?e.notify.showNotification("You are not permitted to perform this action","fail",3e3):(e.order=new o.a,e.items=e.added_names=[],e.getTotal())}),(function(e){}))}this.notify.successNotification("Orders saved successfully")}},{key:"saveBulk",value:function(){var e=this;if(null==this.items||null==this.items||this.items.length<1)return this.notify.failNotification("Please add at least one product"),!1;if(null==this.phone||null==this.phone||null==this.first_name||null==this.first_name||null==this.last_name||null==this.last_name)return this.notify.failNotification("Please fill the customer details"),!1;if(""==this.order.delivery_point||null==this.order.delivery_point||null==this.order.delivery_point)return this.notify.failNotification("Please select a delivery point"),!1;this.notify.showLoading();var t=[],n=[],i=[],r=[];if(this.editing)a=this.order.code;else{this.order_code=this.dbService.abbreviate(this.order.delivery_point,2);var a=this.order_code+"-"+this.dbService.getToday("timestamp_string")}for(var s=0;s<this.items.length;s++){var l=this.items[s];t.push(l.product_id),n.push(l.price),i.push(l.quantity),r.push(l.product_name)}var d=new FormData;d.append("products",t.join("||")),d.append("prices",n.join("||")),d.append("quantities",i.join("||")),d.append("code",a),d.append("product_names",r.join("||")),d.append("added_by",this.authService.current_user._id),d.append("display_name",this.authService.current_user.display_name),d.append("phone",this.phone),d.append("first_name",this.first_name),d.append("last_name",this.last_name),d.append("place_of_work",this.work_place),d.append("amount_paid",this.amount_paid),d.append("delivery_point",this.order.delivery_point),d.append("notes",this.order.notes),d.append("status",this.order.status),this.editing&&d.append("editing","yes"),this.dbService.postData(d,"order/saveBulk",this.authService.current_user).subscribe((function(t){e.notify.hideLoading(),"-1"===t.status?e.notify.failNotification("Unable to authenticate. Please login again"):"-9"===t.status?e.notify.showNotification("You are not permitted to perform this action","fail",3e3):(e.notify.hideLoading(),e.order=new o.a,e.items=e.added_names=[],e.getTotal(),e.notify.successNotification("Order saved successfully"),e.ts=e.dbService.getToday("timestamp_string"))}),(function(t){e.ts=e.dbService.getToday("timestamp_string"),e.notify.hideLoading(),e.notify.noConnectionNotification()}))}}]),e}()).\u0275fac=function(e){return new(e||k)(a["\u0275\u0275directiveInject"](l.a),a["\u0275\u0275directiveInject"](d.a),a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](u.a))},k.\u0275cmp=a["\u0275\u0275defineComponent"]({type:k,selectors:[["app-order-form"]],inputs:{order:"order",id:"id",items:"items"},outputs:{onFinish:"onFinish"},decls:83,vars:16,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["autocomplete","off","list","customers","type","text","name","phone",3,"ngModel","change","keyup","ngModelChange"],["type","text","name","first_name",3,"ngModel","ngModelChange"],["type","text","name","last_name",3,"ngModel","ngModelChange"],["type","text","name","work_place",3,"ngModel","ngModelChange"],["required","","type","date","name","createdAt",3,"ngModel","ngModelChange"],["type","text","list","delivery_point_list","name","delivery_point",3,"ngModel","ngModelChange"],[3,"type"],["required","","type","text","name","delivery_point",3,"ngModel","ngModelChange",4,"ngIf"],["name","notes",1,"form-control",3,"ngModel","ngModelChange"],[3,"timestamp","type","onAdd"],[1,"col-md-8"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Submit",1,"btn","btn-success",3,"click"],["id","enter_quantity_modal","tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-body"],["ngNativeValidate","",3,"ngSubmit"],["n","ngForm"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-warning","waves-effect"],["id","customers"],["required","","type","text","name","delivery_point",3,"ngModel","ngModelChange"],["type","number","name","quantities[]",3,"ngModel","ngModelChange","change","keyup"],["title","remove this item",1,"btn","btn-xs","btn-warning",3,"click"],[1,"feather","icon-x"],[1,""],["type","text","required","","name","new_quantity","id","qtt","placeholder","quantity",3,"ngModel","ngModelChange"],["type","submit","name","submit","value","Add Item",1,"btn","btn-success","waves-effect"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"h6"),a["\u0275\u0275text"](3,"Customer details"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"div",2),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"div",4),a["\u0275\u0275elementStart"](7,"label"),a["\u0275\u0275text"](8,"Phone number"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](9,"br"),a["\u0275\u0275elementStart"](10,"input",5),a["\u0275\u0275listener"]("change",(function(){return t.populateCustomer()}))("keyup",(function(){return t.populateCustomer()}))("ngModelChange",(function(e){return t.phone=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",4),a["\u0275\u0275elementStart"](12,"label"),a["\u0275\u0275text"](13,"First Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](14,"br"),a["\u0275\u0275elementStart"](15,"input",6),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.first_name=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](16,"br"),a["\u0275\u0275elementStart"](17,"label"),a["\u0275\u0275text"](18,"Last Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](19,"br"),a["\u0275\u0275elementStart"](20,"input",7),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.last_name=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"div",4),a["\u0275\u0275elementStart"](22,"label"),a["\u0275\u0275text"](23,"Work Place"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](24,"br"),a["\u0275\u0275elementStart"](25,"input",8),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.work_place=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](26,"div",3),a["\u0275\u0275elementStart"](27,"div",4),a["\u0275\u0275elementStart"](28,"label"),a["\u0275\u0275text"](29,"Date of Order*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](30,"br"),a["\u0275\u0275elementStart"](31,"input",9),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.order.createdAt=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](32,"div",4),a["\u0275\u0275elementStart"](33,"label"),a["\u0275\u0275text"](34,"Delivery Point*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](35,"br"),a["\u0275\u0275elementStart"](36,"input",10),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.order.delivery_point=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](37,"app-select-delivery-point",11),a["\u0275\u0275template"](38,b,1,1,"input",12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](39,"div",4),a["\u0275\u0275elementStart"](40,"label"),a["\u0275\u0275text"](41,"Notes"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](42,"br"),a["\u0275\u0275elementStart"](43,"textarea",13),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.order.notes=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](44,"div",3),a["\u0275\u0275elementStart"](45,"div",4),a["\u0275\u0275elementStart"](46,"app-select-product",14),a["\u0275\u0275listener"]("onAdd",(function(e){return t.productSelected(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](47,"div",15),a["\u0275\u0275elementStart"](48,"div",0),a["\u0275\u0275elementStart"](49,"div",2),a["\u0275\u0275elementStart"](50,"table",16),a["\u0275\u0275elementStart"](51,"thead"),a["\u0275\u0275elementStart"](52,"tr"),a["\u0275\u0275elementStart"](53,"th"),a["\u0275\u0275text"](54,"Product"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](55,"th"),a["\u0275\u0275text"](56,"Quantity"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"th"),a["\u0275\u0275text"](58,"Price"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](59,"th"),a["\u0275\u0275text"](60,"Total"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](61,"th"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](62,"tbody"),a["\u0275\u0275template"](63,w,12,4,"tr",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](64,"h4"),a["\u0275\u0275text"](65),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](66,"label"),a["\u0275\u0275text"](67,"Amount Paid"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](68,": "),a["\u0275\u0275elementStart"](69,"input",18),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.amount_paid=e})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](70,"input",19),a["\u0275\u0275listener"]("click",(function(){return t.saveBulk()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](71,"div",20),a["\u0275\u0275elementStart"](72,"div",21),a["\u0275\u0275elementStart"](73,"div",22),a["\u0275\u0275elementStart"](74,"div",23),a["\u0275\u0275elementStart"](75,"form",24,25),a["\u0275\u0275listener"]("ngSubmit",(function(){return t.addItem()})),a["\u0275\u0275template"](77,x,5,4,"span",26),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](78,"div",27),a["\u0275\u0275elementStart"](79,"button",28),a["\u0275\u0275text"](80,"Cancel"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](81,"datalist",29),a["\u0275\u0275template"](82,E,2,1,"option",17),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](10),a["\u0275\u0275property"]("ngModel",t.phone),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.first_name),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.last_name),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.work_place),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngModel",t.order.createdAt),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.order.delivery_point),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("type","datalist"),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","other"==t.dp_selected),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngModel",t.order.notes),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("timestamp",t.ts)("type","search"),a["\u0275\u0275advance"](17),a["\u0275\u0275property"]("ngForOf",t.items),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate1"]("Total: ",t.order_total,""),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.amount_paid),a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("ngIf",null!=t.new_item),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngForOf",t.customers_local))},directives:[h.b,h.e,h.h,h.l,y,i.j,S.a,i.i,h.f,h.g,h.j,h.i,h.n],styles:[""]}),k),F=[{path:"",component:(C=function(){function e(t,n){_classCallCheck(this,e),this.router=n,this.id=t.snapshot.params.id}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"productAdded",value:function(e){null==this.id||null==this.id||this.router.navigate(["/order/"+this.id])}},{key:"goBack",value:function(){window.history.back()}}]),e}(),C.\u0275fac=function(e){return new(e||C)(a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](r.d))},C.\u0275cmp=a["\u0275\u0275defineComponent"]({type:C,selectors:[["app-add-order"]],decls:7,vars:0,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-12"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"section",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"h5"),a["\u0275\u0275text"](5,"Add a new order"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](6,"app-order-form"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},directives:[j],styles:[""]}),C)}],q=((I=function e(){_classCallCheck(this,e)}).\u0275mod=a["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||I)},imports:[[r.f.forChild(F)],r.f]}),I),N=n("nEHF"),O=n("rMCG"),P=((M=function e(){_classCallCheck(this,e)}).\u0275mod=a["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[i.b,q,N.a,O.a]]}),M)},"4j6H":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("fXoL"),r=n("c92J"),a=n("1VJT"),o=n("BbYg"),s=n("ccyI"),l=n("ofXK"),d=n("3Pt+"),c=n("hiAm"),u=n("tyNb");function h(e,t){1&e&&i["\u0275\u0275element"](0,"app-loading")}function m(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"h4"),i["\u0275\u0275text"](2,"Not found"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",17),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275propertyInterpolate"]("value",n.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function f(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"label"),i["\u0275\u0275text"](2,"Select Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"select",15),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).select_product=e}))("change",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).productSelected()})),i["\u0275\u0275template"](4,p,2,2,"option",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",r.select_product),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",r.objects)}}function _(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",11),i["\u0275\u0275elementStart"](1,"div",12),i["\u0275\u0275elementStart"](2,"button",13),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().addProduct()})),i["\u0275\u0275text"](3,"Add Product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,h,1,0,"app-loading",14),i["\u0275\u0275template"](5,m,3,0,"div",14),i["\u0275\u0275template"](6,f,5,2,"div",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",r.is_searching),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.error_search),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.is_finished_search)}}function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"b"),i["\u0275\u0275text"](2,"Not found"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}var v=function(e){return{"select-product-active":e}};function y(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",24),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](3).add(e)})),i["\u0275\u0275text"](1),i["\u0275\u0275element"](2,"br"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,a=t.index,o=i["\u0275\u0275nextContext"](3);i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](7,v,a==o.arrowkeyLocation)),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",r.name," "),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate5"](" [price: ",r.price,"/",r.unit,"] [stock: ",r.stock,"] [shelf: ",r.shelf,"] [expiry: ",r.expiry,"] ")}}function S(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275elementStart"](1,"ul",22),i["\u0275\u0275template"](2,y,4,9,"li",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",n.objects)}}function b(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Item not found. Check the spelling. Or "),i["\u0275\u0275elementStart"](2,"a",25),i["\u0275\u0275element"](3,"i",26),i["\u0275\u0275text"](4," click here to add a new product"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275elementStart"](1,"input",19),i["\u0275\u0275listener"]("keyup",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().keyUp(e)}))("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().param=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](2,g,3,0,"div",14),i["\u0275\u0275template"](3,S,3,1,"div",20),i["\u0275\u0275template"](4,b,5,0,"div",14),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",r.param),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.error_search),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.objects.length>0&&r.is_finished_search),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.objects.length<1&&r.is_finished_search)}}var x=function(){var e=function(){function e(t,n,r,a){_classCallCheck(this,e),this.dbService=t,this.notify=n,this.localforage=r,this.authService=a,this.onFinish=new i.EventEmitter,this.btn_text="Select",this.onAdd=new i.EventEmitter,this.type="search",this.show="no",this.param="",this.objects=[],this.selected=null,this.is_searching=!1,this.is_finished_search=!1,this.error_search=!1,this.added=[],this.filter_param="",this.filter_results=[],this.local_products=[],this.show_shelf=!0,this.show_expiry=!0,this.show_stock=!0,this.arrowkeyLocation=0,this.num_items=10,$(".search_results").on("click",(function(){$("#sales_search").focus()}))}return _createClass(e,[{key:"ngOnInit",value:function(){"list"!=this.type&&"select"!=this.type||this.list();var e=localStorage.getItem("show_select_product_expiry");this.show_expiry=null==e||"yes"==e;var t=localStorage.getItem("show_select_product_stock");this.show_stock=null==t||"yes"==t;var n=localStorage.getItem("show_select_product_shelf");this.show_shelf=null==n||"yes"==n}},{key:"hideSearchResults",value:function(){this.param="",this.objects.length=0,this.is_finished_search=!1}},{key:"ngOnChanges",value:function(){$("#sales_search").focus()}},{key:"productSelected",value:function(){for(var e=0;e<this.objects.length;e++)if(this.objects[e].id==this.select_product){this.onAdd.emit(this.objects[e]);break}}},{key:"addProduct",value:function(){$("#add_product_modal").modal("show")}},{key:"productAdded",value:function(e){e.price=parseFloat(e.price),this.objects.push(e),this.onAdd.emit(e),$("#add_product_modal").modal("hide")}},{key:"list",value:function(){var e=this;this.is_searching=!0,this.is_finished_search=!1,this.error_search=!1,this.dbService.getData("product/getList",this.authService.current_user).subscribe((function(t){"-1"===t.status?(e.is_searching=!1,e.is_finished_search=!1,e.error_search=!0):(e.objects=t.data,e.filter_results="yes"==e.show?e.objects:[],e.is_searching=!1,e.is_finished_search=!0,e.error_search=!1)}),(function(t){e.is_searching=!1,e.is_finished_search=!1,e.error_search=!1}))}},{key:"filterlist",value:function(){var e=this.filter_param;this.filter_results=null==e||null==e||e.length<1?"yes"==this.show?this.objects:[]:this.objects.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}},{key:"add",value:function(e){this.onAdd.emit(e),this.is_finished_search=!1,$("#sales_search").focus(),this.param="",this.objects=[],this.arrowkeyLocation=0}},{key:"search",value:function(){var e=this;if(""==this.param.trim()||null==this.param||null==this.param)return this.objects=[],void(this.is_finished_search=!1);this.is_searching=!0,this.is_finished_search=!1,this.error_search=!1,this.dbService.getDataWithQuery("product/search",this.authService.current_user,"param="+this.param+"&limit="+this.num_items).subscribe((function(t){"-1"===t.status?(e.is_searching=!1,e.is_finished_search=!1,e.error_search=!0):(e.objects=t.data,e.is_searching=!1,e.is_finished_search=!0,e.error_search=!1,e.selected=null)}),(function(t){e.is_searching=!1,e.is_finished_search=!1,e.error_search=!1}))}},{key:"localSearch",value:function(){var e=this;this.is_searching=!0,this.localforage.getItem(this.dbService.PRODUCT_LIST_KEY).subscribe((function(t){if(e.local_products=t,e.is_finished_search=!1,e.error_search=!1,e.param.length<1)return e.objects=[],e.is_searching=!1,e.is_finished_search=!1,e.error_search=!1,!1;if(null==e.local_products)return e.objects=[],e.notify.failNotification("No Products! Please refresh the page"),e.is_searching=!1,e.is_finished_search=!1,e.error_search=!1,!1;var n=e.param.toLowerCase().trim(),i=n.split(" "),r=e.local_products.filter((function(e){for(var t=0;t<i.length;t++)if(-1==e.name.toLowerCase().indexOf(i[t])&&e.barcode!=i[t])return!1;return!0}));r.sort((function(e,t){var i=e.name.toLowerCase(),r=t.name.toLowerCase();return i.indexOf(n)<r.indexOf(n)?-1:i>r?1:0})),e.objects=r.slice(0,r.length>e.num_items?e.num_items-1:r.length),e.is_searching=!1,e.is_finished_search=!0,e.error_search=!1}),(function(t){e.notify.failNotification("Failed to get products. Please refresh the page")}))}},{key:"select",value:function(e){this.selected=e,this.onFinish.emit(e)}},{key:"highlightObject",value:function(e){this.objects.map((function(e){e.selected=!1})),this.highlightedObject=e,e.selected=!0}},{key:"keyUp",value:function(e){switch(e.keyCode){case 38:0==this.arrowkeyLocation||this.arrowkeyLocation--,$(".search_results").scrollTop(0),$(".search_results").scrollTop($(".select-product-active:first").offset().top-$(".search_results").height()+10),console.log($(".select-product-active:first").offset().top-$(".search_results").height()),this.focusCursor();break;case 40:this.arrowkeyLocation==this.objects.length-1||this.arrowkeyLocation++,$(".search_results").scrollTop(0),$(".search_results").scrollTop($(".select-product-active:first").offset().top-$(".search_results").height()+10),console.log($(".select-product-active:first").offset().top-$(".search_results").height()),this.focusCursor();break;case 13:var t=this.objects[this.arrowkeyLocation];null!=t&&null!=t&&this.add(t);break;case 27:this.hideSearchResults();break;default:this.arrowkeyLocation=0,"offline"==this.dbService.ENVIRONMENT?this.search():this.localSearch()}}},{key:"focusCursor",value:function(){var e=$("#sales_search").val();$("#sales_search").val("").val(e)}},{key:"setShowStock",value:function(e){e.target.checked?(console.log("true"),this.show_stock=!0,localStorage.setItem("show_select_product_stock","yes")):(this.show_stock=!1,localStorage.setItem("show_select_product_stock","no"))}},{key:"showSettings",value:function(){$("#select_product_settings_modal").modal("show")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](o.LocalForageService),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-select-product"]],inputs:{btn_text:"btn_text",type:"type",show:"show",timestamp:"timestamp"},outputs:{onFinish:"onFinish",onAdd:"onAdd"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:41,vars:6,consts:[["class","",4,"ngIf"],["class","focus_search",4,"ngIf"],["id","select_product_settings_modal","tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"form-group"],[3,"ngModel","change","ngModelChange"],["type","checkbox",3,"ngModel","change","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],[1,""],[1,"body"],[1,"btn","btn-inverse","btn-sm",3,"click"],[4,"ngIf"],["name","products",1,"product",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"focus_search"],["autofocus","","autocomplete","off","placeholder","Enter product names or barcode","required","","type","text","id","sales_search","name","search",3,"ngModel","keyup","ngModelChange"],["class","search_results ","id","search_results_list",4,"ngIf"],["id","search_results_list",1,"search_results"],[1,"list-group"],["tabindex","-1","class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],["tabindex","-1",1,"list-group-item",3,"ngClass","click"],["routerLink","/add_product"],[1,"feather","icon-plus"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,_,7,3,"div",0),i["\u0275\u0275template"](1,w,5,4,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275elementStart"](6,"h5"),i["\u0275\u0275text"](7,"Settings for Product Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275elementStart"](9,"div",7),i["\u0275\u0275elementStart"](10,"label"),i["\u0275\u0275text"](11,"Number of Items to Display"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](12,"br"),i["\u0275\u0275elementStart"](13,"select",8),i["\u0275\u0275listener"]("change",(function(e){return t.keyUp(e)}))("ngModelChange",(function(e){return t.num_items=e})),i["\u0275\u0275elementStart"](14,"option"),i["\u0275\u0275text"](15,"10"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"option"),i["\u0275\u0275text"](17,"25"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"option"),i["\u0275\u0275text"](19,"50"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"option"),i["\u0275\u0275text"](21,"100"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"option"),i["\u0275\u0275text"](23,"250"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"div",7),i["\u0275\u0275elementStart"](25,"label"),i["\u0275\u0275text"](26,"Extra Info to display for each"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](27,"br"),i["\u0275\u0275elementStart"](28,"label"),i["\u0275\u0275elementStart"](29,"input",9),i["\u0275\u0275listener"]("change",(function(e){return t.setShowStock(e)}))("ngModelChange",(function(e){return t.show_stock=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](30," Stock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](31," \xa0 "),i["\u0275\u0275element"](32,"br"),i["\u0275\u0275elementStart"](33,"label"),i["\u0275\u0275elementStart"](34,"input",10),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.show_expiry=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](35," Expiry"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](36," \xa0 "),i["\u0275\u0275elementStart"](37,"label"),i["\u0275\u0275elementStart"](38,"input",10),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.show_shelf=e})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](39," Shelf"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275text"](40," \xa0 "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf","select"==t.type),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","search"==t.type),i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.num_items),i["\u0275\u0275advance"](16),i["\u0275\u0275property"]("ngModel",t.show_stock),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.show_expiry),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.show_shelf))},directives:[l.j,d.m,d.e,d.h,d.i,d.n,d.a,c.a,l.i,d.b,d.l,l.h,u.e],styles:[".link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}"]}),e}()},hiAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"fa","fa-spin","fa-spinner"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"i",0),i["\u0275\u0275text"](1," Loading..."))},styles:[""]}),e}()}}]);